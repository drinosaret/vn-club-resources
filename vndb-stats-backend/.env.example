# VNDB Stats Backend Configuration

# Application
DEBUG=false
APP_NAME=VNDB Stats API

# Database
DATABASE_URL=postgresql+asyncpg://vndb:vndb_password@localhost:5432/vndb_stats
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# Redis
REDIS_URL=redis://localhost:6379
CACHE_TTL_SECONDS=300

# VNDB API
VNDB_API_URL=https://api.vndb.org/kana
# Optional: Your VNDB API token for accessing private lists
VNDB_API_TOKEN=

# Rate limiting
VNDB_RATE_LIMIT_REQUESTS=200
VNDB_RATE_LIMIT_WINDOW=300

# Data dumps storage
DUMP_STORAGE_PATH=/tmp/vndb_dumps

# CORS (comma-separated origins)
CORS_ORIGINS=["http://localhost:3000","https://vnclub.org"]

# Recommendation engine
CF_FACTORS=64
CF_ITERATIONS=50
CF_REGULARIZATION=0.1
TAG_WEIGHT=0.4
CF_WEIGHT=0.6

# Twitter/X integration (for news aggregation)
# Get this from browser DevTools > Application > Cookies > twitter.com > auth_token
TWITTER_AUTH_TOKEN=

# Discord Bot â€” Ichijou (for admin management via Discord)
DISCORD_BOT_TOKEN=
DISCORD_GUILD_ID=
# Comma-separated Discord user IDs allowed to execute Ichijou commands
# Discord admin perms control command visibility, but only listed IDs can run them
DISCORD_ADMIN_USER_IDS=
# Discord webhook URL for worker log mirroring (optional)
# Server Settings > Integrations > Webhooks > New Webhook
DISCORD_LOG_WEBHOOK_URL=

# Admin API authentication
# Required for accessing /admin/*, /logs/* (read/stream/cleanup), /blacklist/admin/* endpoints.
# Generate with: openssl rand -hex 32
ADMIN_API_KEY=

# Frontend cache refresh (for blacklist updates)
# URL of the frontend (e.g., https://vnclub.org)
FRONTEND_URL=
# Shared secret for authenticating cache refresh requests
# Generate with: openssl rand -hex 32
BLACKLIST_REFRESH_SECRET=
